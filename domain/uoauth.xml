<?xml version="1.0" encoding="utf-8"?>

<domain name="uoauth" xmlns="http://unact.net/xml/xi">


    <concept name="UA" server="uoauth">
        
        <select owner="sys" sql-name="dummy"/>
        
        <property name="id" sql-compute="1"/>
        
    </concept>
    
    
    <concept name="ua-provider" server="uoauth">
        
        <select owner="ua" sql-name="authProvider"/>
        <save owner="ua" sql-name="authProvider"/>
        
        <property name="xid"/>
        <property name="id" key="true"/>
        
        <property name="name" label="Имя"/>
        <property name="code" label="Код"/>
        
        <property name="refreshTokenUrl" label="Refresh-token url"/>
        <property name="accessTokenUrl" label="Access-token url"/>
        
        <property name="ts" type="datetime" label="Последнее изменение"/>
        
    </concept>
    
    
    <concept name="ua-client" server="uoauth">
        
        <select owner="ua" sql-name="client"/>
        <save owner="ua" sql-name="client"/>
        
        <property name="xid"/>
        <property name="id" key="true"/>
        
        <property name="name" label="Имя"/>
        <property name="code" label="Код"/>
        <property name="secret" label="Пароль"/>
        <property name="redirectUrl" label="Адрес приема кода"/>
        
        <property name="ts" type="datetime" label="Последнее изменение"/>
        
    </concept>
    
    
    <concept name="ua-account" server="uoauth">
        
        <select owner="ua" sql-name="account"/>
        <save owner="ua" sql-name="account"/>
        
        <property name="xid"/>
        <property name="id" label="ID" key="true"/>
        
        <property name="name" label="Имя"/>
        <property name="email" label="e-mail"/>
        <property name="code" label="Код"/>
        
        <property name="ts" type="datetime" label="Последнее изменение"/>
        
    </concept>
    
    
    <concept name="ua-role" server="uoauth">
        
        <select owner="ua" sql-name="role"/>
        <save owner="ua" sql-name="role"/>
        
        <property name="name" label="Имя"/>
        <property name="code" label="Код"/>
        
        <property name="ts" type="datetime" label="Последнее изменение"/>
        
    </concept>
    
    
    <concept name="ua-account-provider" server="uoauth">
        
        <select owner="ua" sql-name="accountProviderData"/>
        
        <property name="data" type-="xml" label="Учетные данные" sql-name="providerData"/>
        
        <property name="ts" type="datetime" label="Последнее изменение"/>
        
        <role name="ua-account" actor="ua-account" sql-name="account"/>
        <role name="ua-provider" actor="ua-provider" sql-name="authProvider"/>
        
    </concept>
    
    
    <concept name="ua-account-role" server="uoauth">
        
        <select owner="ua" sql-name="accountRole"/>
        
        <property name="data" label="Идентификатор" sql-name="data"/>
        
        <property name="ts" type="datetime" label="Последнее изменение"/>
        
        <role name="ua-account" actor="ua-account" sql-name="account"/>
        <role name="ua-provider" actor="ua-provider" sql-name="authProvider"/>
        
    </concept>
    
    
</domain>